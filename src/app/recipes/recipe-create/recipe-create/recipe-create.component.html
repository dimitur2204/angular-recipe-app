<div class="container">
    <form class="form-group" [formGroup]="recipeForm" (ngSubmit)="onSubmitClicked()">
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" class="form-control" placeholder="Enter recipe name"
              formControlName="name"
              name="name">
            </div>
            <div class="form-group">
              <label for="description">Description</label>
              <textarea
              class="form-control" name="description"
              formControlName="description"
              placeholder="Recipe description...
              "></textarea>
            </div>
            <div class="form-group">
                <label class="form-check-label" for="exampleCheck1">Image path</label>
              <input type="text" class="form-control" name="imagePath"
              formControlName="imagePath" #imagePath
              >
            </div>
            <div class="row">
                <img [src]='this.imagePath.value' style="max-height: 200px;max-width: 200px;" class="m-3 img-responsive">
            </div>
            <div class="form-group" formArrayName="ingredients" >
                <button type="button" class="btn btn-primary" (click)="onAddIngredientClicked()">Add ingredient</button>
                <div class="row ml-1" *ngFor="let ingreditentCtrl of controls; let i = index" [formGroupName]="i">
                    <div class="col-xs-7">
                        <div class="form-group mr-3"  >
                            <label for="">Name</label>
                            <input type="text" class="form-control"
                            formControlName="name"
                            name="name"
                            >
                        </div>
                    </div>
                        <div class="col-xs-3 mr-3">
                            <div  class="form-group">
                                <label for="">Amount</label>
                                <input type="number" class="form-control"
                                formControlName="amount"
                                name="amount">
                            </div>
                        </div>
                        <div class="col-xs-2 mt-4 pt-2">
                            <button (click)="onDeleteIngredientClicked(i)" class="btn btn-danger">X</button>
                        </div>
                </div>
            </div>
            <button [disabled]="!this.recipeForm.valid" type="submit" class="btn btn-primary mr-3">Submit</button>
            <button type="button" class="btn btn-danger" (click)="onCancelClicked()">Cancel</button>
    </form>
</div>

